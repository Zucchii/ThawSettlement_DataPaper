# ThawSettlement_DataPaper

Reproducible R code and instructions accompanying the Permafrost Thaw Settlement Dataset on Zenodo ([https://zenodo.org/records/14532651](https://zenodo.org/records/14532651)) and an accompanying data paper submitted to _Earth System Science Data_. It includes scripts for data processing, analysis, and figure generation.

## Repository Structure
- **`input/`**:
  - `raw_borehole_locations_and_sources.csv`: Borehole location data and sources.
  - `raw_data.csv`: Raw dataset extracted from the original sources.
  - `raw_particle_size_distribution.csv`: Particle size distribution data.
  - `emp_method_constants.csv`: Empirical method constants for thaw strain calculations.
  - `filtered_validation_subsets.csv`: Required to create subsets when evaluating the performance of various empirical methods.

- **`R scripts/`**:
  - `01_utility_functions.R`: Defines helper functions used in data processing and analysis.
  - `02_data_process.R`: Main processing script for input data and calculations.
  - `03_figures_and_tables.R`: Script for generating figures and tables.

- **`figures and tables/`**: Folder to store figures and tables generated by the scripts.

- **`final datasets/`**: Contains processed datasets for analysis and visualization.

- **`Instructions.Rmd`**: Detailed instructions for running the code.

- **`README.md`**: This file.

## Quick Start
1. **Clone the Repository**:
   ```bash
   git clone https://github.com/username/repository-name.git

   ```

2. **Set Your Working Directory**: In R, set the working directory to the root folder of the repository:
```r
setwd("path/to/repository")
```

3. **Install Required R Packages**: Run the following in R to install all required packages:

```r
install.packages(c("readr", "dplyr", "ggplot2", "cowplot", "webr", "tidyr", "sf"))
```

4. **Run the Scripts**: Excute R scripts in order
   - `01_utility_functions.R`: Load this script first to define all required functions.
   - `02_data_process.R`: Processes the input data and performs calculations.
   - `03_figures_and_tables.R`: Generates the figures and tables.

5. **Check the output**:
   The output files will include:
   - **Figures and Tables**: Saved in figures and tables/.
   - **Processed Datasets/**: Saved in final datasets/.

## Pre-generated Outputs
This repository includes pre-generated outputs (figures, tables, and datasets) for convenience. Users can reproduce these results by following the steps outlined in the repository.

## Citation
If you use this repository in your work, please cite:
Mohammadi, Z., Hayley, J. L. (2024). Permafrost Thaw Settlement Dataset (Version 1.1.0). Zenodo. [https://zenodo.org/records/14532651](https://zenodo.org/records/14532651)

## Notes
- **Ensure the working directory is correctly set before running the scripts.**
- If errors occur, verify that all required R packages are installed and up to date.
- Additional information on the data files and their roles in the analysis is provided within the manuscript.

# Contact
For questions or assistance, please contact [seyedehzakieh.mohamm@ucalgary.ca]

## License
This repository is licensed under the MIT License. See the [LICENSE](LICENSE) file for details.
