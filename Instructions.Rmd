---
title: "Instructions for Running the R Scripts and Generating Outputs"
author: "Zakieh Mohmmadi"
date: "`r Sys.Date()`"
output:
  html_document:
    toc: true
    toc_depth: 2
    number_sections: true
---

# Overview
This supplementary material includes R scripts, input data, and instructions required to reproduce the results, figures, and tables presented in the study.

# Folder Structure
- **input/**:
  - `raw_borehole_locations_and_sources.csv`: Borehole location data and sources.
  - `raw_data.csv`: Raw dataset extracted from the original sources.
  - `raw_particle_size_distribution.csv`: Particle size distribution data.
  - `emp_method_constants.csv`: Empirical method constants for thaw strain calculations.
  - `filtered_validation_subsets.csv`: Required to create subsets when evaluating the performance of various empirical methods.

- **R scripts/**:
  - `01_utility_functions.R`: Defines helper functions used in data processing and analysis.
  - `02_data_process.R`: Main processing script for input data and calculations.
  - `03_figures_and_tables.R`: Script for generating figures and tables.

- **figures and tables/**: Folder to store figures and tables generated by the scripts.

- **final datasets/**: Contains processed datasets for analysis and visualization.

- **Instructions.txt**: This file.

# Steps to Run the Code
1. **Clone the ThawSettlement_DataPaper on yor local system.**

   ```bash
   git clone https://github.com/username/repository-name.git

   ```

2. **Set the Working Directory**:
   Set your working directory to the folder containing the `R scripts` and `input` directories. Example:
   ```r
   setwd("C:/path/to/your/local/folder/containing/Codes and Inputs")
   ```

3. **Install required R packages**:
   Run the following command in R to install the required packages:
   ```r
   install.packages(c(
     "readr", "dplyr", "ggplot2", "cowplot", "moments", "webr", "ggmap",
     "maps", "canadianmaps", "prettymapr", "sp", "sf", "tidyr",
     "RColorBrewer", "ggrepel"
   ))
   ```
   After installing the packages, update them to the latest versions:
   ```r
   update.packages(ask = FALSE)
   ```

4. **Run the R scripts in the following order**:
   - `01_utility_functions.R`: Load this script first to define all required functions.
   - `02_data_process.R`: Processes the input data and performs calculations.
   - `03_figures_and_tables.R`: Generates the figures and tables.

5. **Check the output**:
   The output files will be saved in:
   - **figures and tables/**: Generated figures and tables (e.g., PNG, CSV files).
   - **final datasets/**: Processed datasets used in the analysis.

# Expected Output
The scripts will generate:
- Figures: Saved as image files (e.g., PNG).
- Tables: Saved as CSV files.
- Processed datasets, some of which are uploaded as the Permafrost Thaw Settlement Dataset on Zenodo ([https://zenodo.org/records/14532651](https://zenodo.org/records/14532651)).

# Notes
- Ensure the working directory is correctly set before running the scripts.
- If errors occur, verify that all required R packages are installed and up to date.
- Additional information on the data files and their roles in the analysis is provided within the manuscript.

# Contact
For questions or assistance, please refer to the contact information provided in the manuscript.
